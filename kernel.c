void printString(char*);
void readString(char*);
int main(){
        char line[80];
	printString("Hello Awesome World ! \0");
	printString("Enter a line: \0");
	readString(line);
	printString(line);
	while(1){
	}
	return 0 ;
}

void printString(char *ch){
    while (*ch != '\0'){
   	interrupt(0x10,0xE*256+*ch,0,0,0);
	ch++;
	}
}

void readString(char* line)
{
 int i = 0;
 char in = 0x0;
 while (in != 0xd)
   {
    in = interrupt(0x16, 0x0, 0x0, 0x0, 0x0);
    if (in != 0x8){
    	*(line + i) = in;
    	//interrupt(0x10,0xe*0x100+in,0x0,0x0,0x0);
    		interrupt(0x10,0xE*256+in,0,0,0);
    	i++;
    }else{
    	if(i!=0){
    	*(line+i-1) = in;
    	//interrupt(0x10,0xE*256+0x0,0,0,0);
    	// interrupt(0x10,0xe*0x100+in,0x0,0x0,0x0);
    	// interrupt(0x10,0xe*0x100+0x0,0x0,0x0,0x0);
    	// interrupt(0x10,0xe*0x100+in,0x0,0x0,0x0);
    		interrupt(0x10,0xE*256+0x8,0,0,0);
    			interrupt(0x10,0xE*256+0x0,0,0,0);
    			interrupt(0x10,0xE*256+0x8,0,0,0);
    	 
    	 i--;}
    }

   }
  // interrupt(0x10,0xa,0x0,0x0,0x0);
  // interrupt(0x10,0x0,0x0,0x0,0x0);
  interrupt(0x10,0xE*256+'\n',0,0,0);
  
 *(line + i) = 0xa;
 *(line + i) = 0x0;
 
}


